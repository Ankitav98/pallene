/* This file was generated by the Titan compiler. Do not edit by hand */
/* Indentation and formatting courtesy of titan-compiler/pretty.lua */

#include <string.h>

#include "tcore.h"

#include "lua.h"
#include "lauxlib.h"
#include "lualib.h"

#include "lapi.h"
#include "lfunc.h"
#include "lgc.h"
#include "lobject.h"
#include "lstate.h"
#include "lstring.h"
#include "ltable.h"
#include "lvm.h"

#include "math.h"

static Table * function_new_titan(
    lua_State * L,
    lua_Number x1 /* x */,
    lua_Number x2 /* y */
){
    CClosure * x3 = clCvalue(s2v(L->ci->func));
    Table * x4 /* upvalue table */ = hvalue(&x3->upvalue[0]);
    TValue * x5 /* upvalue array */ = x4->array;
    (void)x5;
    {
        luaC_condGC(L, {
        }, {
        });
        Table * x6 = luaH_new(L);
        luaH_resizearray(L, x6, 2);
        TValue * x7 = x6->array;
        setfltvalue(x7 + 0, x1);
        setfltvalue(x7 + 1, x2);
        return x6;
    }
}

static int function_new_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Table * x2 /* upvalue table */ = hvalue(&x1->upvalue[0]);
    TValue * x3 /* upvalue array */ = x2->array;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (TITAN_UNLIKELY(x5 != 2)) {
        titan_runtime_arity_error(L, 2, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (TITAN_UNLIKELY(!ttisfloat(x6))) {
        titan_runtime_argument_type_error(L, "x", 1, LUA_TNUMFLT, x6);
    }
    TValue* x7 = s2v(x4 + 2);
    if (TITAN_UNLIKELY(!ttisfloat(x7))) {
        titan_runtime_argument_type_error(L, "y", 1, LUA_TNUMFLT, x7);
    }
    lua_Number x8 = fltvalue(s2v(x4 + 1));
    lua_Number x9 = fltvalue(s2v(x4 + 2));
    Table * x10 /* ret */ = function_new_titan(L, x8, x9);
    sethvalue(L, s2v(L->top), x10);
    api_incr_top(L);
    return 1;
}

static Table * function_clone_titan(
    lua_State * L,
    Table * x1 /* x */
){
    lua_checkstack(L, 1);
    CClosure * x2 = clCvalue(s2v(L->ci->func));
    Table * x3 /* upvalue table */ = hvalue(&x2->upvalue[0]);
    TValue * x4 /* upvalue array */ = x3->array;
    (void)x4;
    {
        lua_Unsigned x5 /* ui */ = ((lua_Unsigned)1) - 1;
        const TValue * x6 /* arrslot */;
        if (TITAN_LIKELY(x5 < x1->sizearray)) {
            x6 = &x1->array[x5];
        } else {
            x6 = luaH_getint(x1, 1);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x6))) {
            titan_runtime_array_type_error(L, 6, LUA_TNUMFLT, rawtt(x6));
        }
        lua_Number x7 = fltvalue(x6);
        lua_Unsigned x8 /* ui */ = ((lua_Unsigned)2) - 1;
        const TValue * x9 /* arrslot */;
        if (TITAN_LIKELY(x8 < x1->sizearray)) {
            x9 = &x1->array[x8];
        } else {
            x9 = luaH_getint(x1, 2);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x9))) {
            titan_runtime_array_type_error(L, 6, LUA_TNUMFLT, rawtt(x9));
        }
        lua_Number x10 = fltvalue(x9);
        StackValue* x11 = L->top;
        sethvalue(L, s2v(x11), x1); x11++;
        L->top = x11;
        Table * x12 = function_new_titan(L, x7, x10);
        L->top -= 1;
        return x12;
    }
}

static int function_clone_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Table * x2 /* upvalue table */ = hvalue(&x1->upvalue[0]);
    TValue * x3 /* upvalue array */ = x2->array;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (TITAN_UNLIKELY(x5 != 1)) {
        titan_runtime_arity_error(L, 1, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (TITAN_UNLIKELY(!ttistable(x6))) {
        titan_runtime_argument_type_error(L, "x", 5, LUA_TTABLE, x6);
    }
    Table * x7 = hvalue(s2v(x4 + 1));
    Table * x8 /* ret */ = function_clone_titan(L, x7);
    sethvalue(L, s2v(L->top), x8);
    api_incr_top(L);
    return 1;
}

static Table * function_conj_titan(
    lua_State * L,
    Table * x1 /* x */
){
    lua_checkstack(L, 1);
    CClosure * x2 = clCvalue(s2v(L->ci->func));
    Table * x3 /* upvalue table */ = hvalue(&x2->upvalue[0]);
    TValue * x4 /* upvalue array */ = x3->array;
    (void)x4;
    {
        lua_Unsigned x5 /* ui */ = ((lua_Unsigned)1) - 1;
        const TValue * x6 /* arrslot */;
        if (TITAN_LIKELY(x5 < x1->sizearray)) {
            x6 = &x1->array[x5];
        } else {
            x6 = luaH_getint(x1, 1);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x6))) {
            titan_runtime_array_type_error(L, 10, LUA_TNUMFLT, rawtt(x6));
        }
        lua_Number x7 = fltvalue(x6);
        lua_Unsigned x8 /* ui */ = ((lua_Unsigned)2) - 1;
        const TValue * x9 /* arrslot */;
        if (TITAN_LIKELY(x8 < x1->sizearray)) {
            x9 = &x1->array[x8];
        } else {
            x9 = luaH_getint(x1, 2);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x9))) {
            titan_runtime_array_type_error(L, 10, LUA_TNUMFLT, rawtt(x9));
        }
        lua_Number x10 = fltvalue(x9);
        lua_Number x11 = - x10;
        StackValue* x12 = L->top;
        sethvalue(L, s2v(x12), x1); x12++;
        L->top = x12;
        Table * x13 = function_new_titan(L, x7, x11);
        L->top -= 1;
        return x13;
    }
}

static int function_conj_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Table * x2 /* upvalue table */ = hvalue(&x1->upvalue[0]);
    TValue * x3 /* upvalue array */ = x2->array;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (TITAN_UNLIKELY(x5 != 1)) {
        titan_runtime_arity_error(L, 1, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (TITAN_UNLIKELY(!ttistable(x6))) {
        titan_runtime_argument_type_error(L, "x", 9, LUA_TTABLE, x6);
    }
    Table * x7 = hvalue(s2v(x4 + 1));
    Table * x8 /* ret */ = function_conj_titan(L, x7);
    sethvalue(L, s2v(L->top), x8);
    api_incr_top(L);
    return 1;
}

static Table * function_add_titan(
    lua_State * L,
    Table * x1 /* x */,
    Table * x2 /* y */
){
    lua_checkstack(L, 2);
    CClosure * x3 = clCvalue(s2v(L->ci->func));
    Table * x4 /* upvalue table */ = hvalue(&x3->upvalue[0]);
    TValue * x5 /* upvalue array */ = x4->array;
    (void)x5;
    {
        lua_Unsigned x6 /* ui */ = ((lua_Unsigned)1) - 1;
        const TValue * x7 /* arrslot */;
        if (TITAN_LIKELY(x6 < x1->sizearray)) {
            x7 = &x1->array[x6];
        } else {
            x7 = luaH_getint(x1, 1);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x7))) {
            titan_runtime_array_type_error(L, 14, LUA_TNUMFLT, rawtt(x7));
        }
        lua_Number x8 = fltvalue(x7);
        lua_Unsigned x9 /* ui */ = ((lua_Unsigned)1) - 1;
        const TValue * x10 /* arrslot */;
        if (TITAN_LIKELY(x9 < x2->sizearray)) {
            x10 = &x2->array[x9];
        } else {
            x10 = luaH_getint(x2, 1);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x10))) {
            titan_runtime_array_type_error(L, 14, LUA_TNUMFLT, rawtt(x10));
        }
        lua_Number x11 = fltvalue(x10);
        lua_Number x12 = x8 + x11;
        lua_Unsigned x13 /* ui */ = ((lua_Unsigned)2) - 1;
        const TValue * x14 /* arrslot */;
        if (TITAN_LIKELY(x13 < x1->sizearray)) {
            x14 = &x1->array[x13];
        } else {
            x14 = luaH_getint(x1, 2);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x14))) {
            titan_runtime_array_type_error(L, 14, LUA_TNUMFLT, rawtt(x14));
        }
        lua_Number x15 = fltvalue(x14);
        lua_Unsigned x16 /* ui */ = ((lua_Unsigned)2) - 1;
        const TValue * x17 /* arrslot */;
        if (TITAN_LIKELY(x16 < x2->sizearray)) {
            x17 = &x2->array[x16];
        } else {
            x17 = luaH_getint(x2, 2);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x17))) {
            titan_runtime_array_type_error(L, 14, LUA_TNUMFLT, rawtt(x17));
        }
        lua_Number x18 = fltvalue(x17);
        lua_Number x19 = x15 + x18;
        StackValue* x20 = L->top;
        sethvalue(L, s2v(x20), x1); x20++;
        sethvalue(L, s2v(x20), x2); x20++;
        L->top = x20;
        Table * x21 = function_new_titan(L, x12, x19);
        L->top -= 2;
        return x21;
    }
}

static int function_add_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Table * x2 /* upvalue table */ = hvalue(&x1->upvalue[0]);
    TValue * x3 /* upvalue array */ = x2->array;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (TITAN_UNLIKELY(x5 != 2)) {
        titan_runtime_arity_error(L, 2, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (TITAN_UNLIKELY(!ttistable(x6))) {
        titan_runtime_argument_type_error(L, "x", 13, LUA_TTABLE, x6);
    }
    TValue* x7 = s2v(x4 + 2);
    if (TITAN_UNLIKELY(!ttistable(x7))) {
        titan_runtime_argument_type_error(L, "y", 13, LUA_TTABLE, x7);
    }
    Table * x8 = hvalue(s2v(x4 + 1));
    Table * x9 = hvalue(s2v(x4 + 2));
    Table * x10 /* ret */ = function_add_titan(L, x8, x9);
    sethvalue(L, s2v(L->top), x10);
    api_incr_top(L);
    return 1;
}

static Table * function_mul_titan(
    lua_State * L,
    Table * x1 /* x */,
    Table * x2 /* y */
){
    lua_checkstack(L, 2);
    CClosure * x3 = clCvalue(s2v(L->ci->func));
    Table * x4 /* upvalue table */ = hvalue(&x3->upvalue[0]);
    TValue * x5 /* upvalue array */ = x4->array;
    (void)x5;
    {
        lua_Unsigned x6 /* ui */ = ((lua_Unsigned)1) - 1;
        const TValue * x7 /* arrslot */;
        if (TITAN_LIKELY(x6 < x1->sizearray)) {
            x7 = &x1->array[x6];
        } else {
            x7 = luaH_getint(x1, 1);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x7))) {
            titan_runtime_array_type_error(L, 18, LUA_TNUMFLT, rawtt(x7));
        }
        lua_Number x8 = fltvalue(x7);
        lua_Unsigned x9 /* ui */ = ((lua_Unsigned)1) - 1;
        const TValue * x10 /* arrslot */;
        if (TITAN_LIKELY(x9 < x2->sizearray)) {
            x10 = &x2->array[x9];
        } else {
            x10 = luaH_getint(x2, 1);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x10))) {
            titan_runtime_array_type_error(L, 18, LUA_TNUMFLT, rawtt(x10));
        }
        lua_Number x11 = fltvalue(x10);
        lua_Number x12 = x8 * x11;
        lua_Unsigned x13 /* ui */ = ((lua_Unsigned)2) - 1;
        const TValue * x14 /* arrslot */;
        if (TITAN_LIKELY(x13 < x1->sizearray)) {
            x14 = &x1->array[x13];
        } else {
            x14 = luaH_getint(x1, 2);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x14))) {
            titan_runtime_array_type_error(L, 18, LUA_TNUMFLT, rawtt(x14));
        }
        lua_Number x15 = fltvalue(x14);
        lua_Unsigned x16 /* ui */ = ((lua_Unsigned)2) - 1;
        const TValue * x17 /* arrslot */;
        if (TITAN_LIKELY(x16 < x2->sizearray)) {
            x17 = &x2->array[x16];
        } else {
            x17 = luaH_getint(x2, 2);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x17))) {
            titan_runtime_array_type_error(L, 18, LUA_TNUMFLT, rawtt(x17));
        }
        lua_Number x18 = fltvalue(x17);
        lua_Number x19 = x15 * x18;
        lua_Number x20 = x12 - x19;
        lua_Unsigned x21 /* ui */ = ((lua_Unsigned)1) - 1;
        const TValue * x22 /* arrslot */;
        if (TITAN_LIKELY(x21 < x1->sizearray)) {
            x22 = &x1->array[x21];
        } else {
            x22 = luaH_getint(x1, 1);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x22))) {
            titan_runtime_array_type_error(L, 18, LUA_TNUMFLT, rawtt(x22));
        }
        lua_Number x23 = fltvalue(x22);
        lua_Unsigned x24 /* ui */ = ((lua_Unsigned)2) - 1;
        const TValue * x25 /* arrslot */;
        if (TITAN_LIKELY(x24 < x2->sizearray)) {
            x25 = &x2->array[x24];
        } else {
            x25 = luaH_getint(x2, 2);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x25))) {
            titan_runtime_array_type_error(L, 18, LUA_TNUMFLT, rawtt(x25));
        }
        lua_Number x26 = fltvalue(x25);
        lua_Number x27 = x23 * x26;
        lua_Unsigned x28 /* ui */ = ((lua_Unsigned)2) - 1;
        const TValue * x29 /* arrslot */;
        if (TITAN_LIKELY(x28 < x1->sizearray)) {
            x29 = &x1->array[x28];
        } else {
            x29 = luaH_getint(x1, 2);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x29))) {
            titan_runtime_array_type_error(L, 18, LUA_TNUMFLT, rawtt(x29));
        }
        lua_Number x30 = fltvalue(x29);
        lua_Unsigned x31 /* ui */ = ((lua_Unsigned)1) - 1;
        const TValue * x32 /* arrslot */;
        if (TITAN_LIKELY(x31 < x2->sizearray)) {
            x32 = &x2->array[x31];
        } else {
            x32 = luaH_getint(x2, 1);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x32))) {
            titan_runtime_array_type_error(L, 18, LUA_TNUMFLT, rawtt(x32));
        }
        lua_Number x33 = fltvalue(x32);
        lua_Number x34 = x30 * x33;
        lua_Number x35 = x27 + x34;
        StackValue* x36 = L->top;
        sethvalue(L, s2v(x36), x1); x36++;
        sethvalue(L, s2v(x36), x2); x36++;
        L->top = x36;
        Table * x37 = function_new_titan(L, x20, x35);
        L->top -= 2;
        return x37;
    }
}

static int function_mul_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Table * x2 /* upvalue table */ = hvalue(&x1->upvalue[0]);
    TValue * x3 /* upvalue array */ = x2->array;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (TITAN_UNLIKELY(x5 != 2)) {
        titan_runtime_arity_error(L, 2, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (TITAN_UNLIKELY(!ttistable(x6))) {
        titan_runtime_argument_type_error(L, "x", 17, LUA_TTABLE, x6);
    }
    TValue* x7 = s2v(x4 + 2);
    if (TITAN_UNLIKELY(!ttistable(x7))) {
        titan_runtime_argument_type_error(L, "y", 17, LUA_TTABLE, x7);
    }
    Table * x8 = hvalue(s2v(x4 + 1));
    Table * x9 = hvalue(s2v(x4 + 2));
    Table * x10 /* ret */ = function_mul_titan(L, x8, x9);
    sethvalue(L, s2v(L->top), x10);
    api_incr_top(L);
    return 1;
}

static lua_Number function_norm2_titan(
    lua_State * L,
    Table * x1 /* x */
){
    lua_checkstack(L, 2);
    CClosure * x2 = clCvalue(s2v(L->ci->func));
    Table * x3 /* upvalue table */ = hvalue(&x2->upvalue[0]);
    TValue * x4 /* upvalue array */ = x3->array;
    (void)x4;
    {
        StackValue* x5 = L->top;
        sethvalue(L, s2v(x5), x1); x5++;
        L->top = x5;
        Table * x6 = function_conj_titan(L, x1);
        L->top -= 1;
        StackValue* x7 = L->top;
        sethvalue(L, s2v(x7), x1); x7++;
        sethvalue(L, s2v(x7), x6); x7++;
        L->top = x7;
        Table * x8 = function_mul_titan(L, x1, x6);
        L->top -= 2;
        Table * x9 /* n */ = x8;
        lua_Unsigned x10 /* ui */ = ((lua_Unsigned)1) - 1;
        const TValue * x11 /* arrslot */;
        if (TITAN_LIKELY(x10 < x9->sizearray)) {
            x11 = &x9->array[x10];
        } else {
            x11 = luaH_getint(x9, 1);
        }
        if (TITAN_UNLIKELY(!ttisfloat(x11))) {
            titan_runtime_array_type_error(L, 23, LUA_TNUMFLT, rawtt(x11));
        }
        lua_Number x12 = fltvalue(x11);
        return x12;
    }
}

static int function_norm2_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Table * x2 /* upvalue table */ = hvalue(&x1->upvalue[0]);
    TValue * x3 /* upvalue array */ = x2->array;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (TITAN_UNLIKELY(x5 != 1)) {
        titan_runtime_arity_error(L, 1, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (TITAN_UNLIKELY(!ttistable(x6))) {
        titan_runtime_argument_type_error(L, "x", 21, LUA_TTABLE, x6);
    }
    Table * x7 = hvalue(s2v(x4 + 1));
    lua_Number x8 /* ret */ = function_norm2_titan(L, x7);
    setfltvalue(s2v(L->top), x8);
    api_incr_top(L);
    return 1;
}

static lua_Number function_abs_titan(
    lua_State * L,
    Table * x1 /* x */
){
    lua_checkstack(L, 1);
    CClosure * x2 = clCvalue(s2v(L->ci->func));
    Table * x3 /* upvalue table */ = hvalue(&x2->upvalue[0]);
    TValue * x4 /* upvalue array */ = x3->array;
    (void)x4;
    {
        StackValue* x5 = L->top;
        sethvalue(L, s2v(x5), x1); x5++;
        L->top = x5;
        lua_Number x6 = function_norm2_titan(L, x1);
        L->top -= 1;
        return x6;
    }
}

static int function_abs_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Table * x2 /* upvalue table */ = hvalue(&x1->upvalue[0]);
    TValue * x3 /* upvalue array */ = x2->array;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (TITAN_UNLIKELY(x5 != 1)) {
        titan_runtime_arity_error(L, 1, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (TITAN_UNLIKELY(!ttistable(x6))) {
        titan_runtime_argument_type_error(L, "x", 26, LUA_TTABLE, x6);
    }
    Table * x7 = hvalue(s2v(x4 + 1));
    lua_Number x8 /* ret */ = function_abs_titan(L, x7);
    setfltvalue(s2v(L->top), x8);
    api_incr_top(L);
    return 1;
}

int luaopen_benchmarks_mandelbrot_hash(lua_State *L)
{
    lua_checkstack(L, 4);
    /* Allocate upvalue table */
    /* ---------------------- */
    Table * x1 = luaH_new(L);
    luaH_resizearray(L, x1, 9);
    TValue * x2 = x1->array;
    /* Initialize upvalues */
    /* ------------------- */
    TString * x3 = luaS_new(L, "__index");
    setsvalue(L,  &x2[0] , x3);
    if (isblack(obj2gco(x1)) && iswhite(obj2gco(x3))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    TString * x4 = luaS_new(L, "__metatable");
    setsvalue(L,  &x2[1] , x4);
    if (isblack(obj2gco(x1)) && iswhite(obj2gco(x4))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* new */
    CClosure* x5 = luaF_newCclosure(L, 1);
    x5->f = function_new_lua;
    sethvalue(L, &x5->upvalue[0], x1);
    TValue x6; setclCvalue(L, &x6, x5);
    setobj(L,  &x2[2] , &x6);
    if (iscollectable(&x6) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x6))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* clone */
    CClosure* x7 = luaF_newCclosure(L, 1);
    x7->f = function_clone_lua;
    sethvalue(L, &x7->upvalue[0], x1);
    TValue x8; setclCvalue(L, &x8, x7);
    setobj(L,  &x2[3] , &x8);
    if (iscollectable(&x8) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x8))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* conj */
    CClosure* x9 = luaF_newCclosure(L, 1);
    x9->f = function_conj_lua;
    sethvalue(L, &x9->upvalue[0], x1);
    TValue x10; setclCvalue(L, &x10, x9);
    setobj(L,  &x2[4] , &x10);
    if (iscollectable(&x10) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x10))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* add */
    CClosure* x11 = luaF_newCclosure(L, 1);
    x11->f = function_add_lua;
    sethvalue(L, &x11->upvalue[0], x1);
    TValue x12; setclCvalue(L, &x12, x11);
    setobj(L,  &x2[5] , &x12);
    if (iscollectable(&x12) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x12))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* mul */
    CClosure* x13 = luaF_newCclosure(L, 1);
    x13->f = function_mul_lua;
    sethvalue(L, &x13->upvalue[0], x1);
    TValue x14; setclCvalue(L, &x14, x13);
    setobj(L,  &x2[6] , &x14);
    if (iscollectable(&x14) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x14))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* norm2 */
    CClosure* x15 = luaF_newCclosure(L, 1);
    x15->f = function_norm2_lua;
    sethvalue(L, &x15->upvalue[0], x1);
    TValue x16; setclCvalue(L, &x16, x15);
    setobj(L,  &x2[7] , &x16);
    if (iscollectable(&x16) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x16))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* abs */
    CClosure* x17 = luaF_newCclosure(L, 1);
    x17->f = function_abs_lua;
    sethvalue(L, &x17->upvalue[0], x1);
    TValue x18; setclCvalue(L, &x18, x17);
    setobj(L,  &x2[8] , &x18);
    if (iscollectable(&x18) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x18))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* Create exports table */
    /* -------------------- */
    StackValue* x19 = L->top;
    sethvalue(L, s2v(x19), x1); x19++;
    L->top = x19;
    lua_createtable(L, 0, 7);
    lua_pushstring(L, "new");
    setobj(L, s2v(L->top),  &x2[2] ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "clone");
    setobj(L, s2v(L->top),  &x2[3] ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "conj");
    setobj(L, s2v(L->top),  &x2[4] ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "add");
    setobj(L, s2v(L->top),  &x2[5] ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "mul");
    setobj(L, s2v(L->top),  &x2[6] ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "norm2");
    setobj(L, s2v(L->top),  &x2[7] ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "abs");
    setobj(L, s2v(L->top),  &x2[8] ); api_incr_top(L);
    lua_settable(L, -3);
    return 1;
}

